<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AYURTECH - Skin Disorder Detection</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Add Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script>
        // Initialize Firebase immediately
        const firebaseConfig = {
            apiKey: "AIzaSyCHQnqATQVfjm1W0UP491wwnPko6F2CdWo",
            authDomain: "knowcode-dce10.firebaseapp.com",
            projectId: "knowcode-dce10",
            storageBucket: "knowcode-dce10.firebasestorage.app",
            messagingSenderId: "622711862318",
            appId: "1:622711862318:web:b4e6b29b29bdf5e9fb1bbf",
            measurementId: "G-5S3PB1LNL4"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    
    <!-- Sign In Modal -->
    <div id="signInModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Sign In</h2>
            <form id="signInForm">
                <div class="form-group">
                    <input type="email" id="signInEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signInPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="submit-btn">Sign In</button>
            </form>
            <div class="social-login">
                <p>Or sign in with:</p>
                <div class="social-buttons">
                    <button class="google-btn" type="button">
                        <i class="fab fa-google"></i> Google
                    </button>
                </div>
            </div>
            <p class="switch-form">Don't have an account? <a href="#" id="showSignUp">Sign Up</a></p>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signUpModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Sign Up</h2>
            <form id="signUpForm">
                <div class="form-group">
                    <input type="text" id="signUpName" placeholder="Full Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signUpEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signUpPassword" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signUpConfirmPassword" placeholder="Confirm Password" required>
                </div>
                <button type="submit" class="submit-btn">Sign Up</button>
            </form>
            <div class="social-login">
                <p>Or sign up with:</p>
                <div class="social-buttons">
                    <button class="google-btn" type="button">
                        <i class="fab fa-google"></i> Google
                    </button>
                </div>
            </div>
            <p class="switch-form">Already have an account? <a href="#" id="showSignIn">Sign In</a></p>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="logo">SkinCare AI</div>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="uvindex.html" class="uv-index-btn">
                <i class="fas fa-sun"></i>
                <span>UV Index</span>
            </a>
            <a href="#about">About Us</a>
            <a href="#contact">Contact</a>
            <button class="sign-in-btn">Sign In</button>
            <button class="sign-up-btn">Sign Up</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero">
        <div class="hero-content">
            <h1>AYURTECH</h1>
            <p class="hero-subtitle">Empowering skin health like never before, AYURTECH blends AI precision with Ayurvedic wisdom to deliver personalized care.</p>
            <p class="hero-description">From accurate diagnoses to tailored remedies, we make skincare simple, affordable, and accessible. Take charge of your skin health with sustainable solutions designed just for you. Your journey to radiant skin starts here!</p>
            <div class="hero-buttons">
                <button class="model-3d-btn" onclick="show3DModel()">
                    <i class="fas fa-cube"></i>
                    View 3D Body Model
                </button>
                <a href="map.html" class="dermatologist-btn">
                    <i class="fas fa-user-md"></i>
                    Connect to Dermatologist
                </a>
            </div>
        </div>
        <div class="hero-visuals">
            <div class="floating-images">
                <img src="https://i.pinimg.com/474x/dc/77/26/dc7726f0a2473dec25ca07fcf260c6cc.jpg" alt="Ayurvedic Herbs" class="float-img img1">
                <img src="https://images.unsplash.com/photo-1631390179406-0bfe17e9f89d?w=800&q=80" alt="Natural Remedies" class="float-img img2">
                <img src="https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=800&q=80" alt="Skin Care" class="float-img img3">
            </div>
            <div class="hero-overlay"></div>
        </div>
        <div class="hero-decorations">
            <div class="circle circle1"></div>
            <div class="circle circle2"></div>
            <div class="leaf leaf1">üçÉ</div>
            <div class="leaf leaf2">üåø</div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="upload-section">
        <div class="upload-wrapper">
            <h2>Analyze Your Skin Condition</h2>
            <p>Upload a clear image of the affected area for AI-powered analysis</p>
            <div class="upload-container">
                <input type="file" id="imageUpload" accept="image/*" hidden>
                <label for="imageUpload" class="upload-btn">
                    <i class="fas fa-upload"></i> Upload Image
                </label>
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about">
        <div class="about-header">
            <h2>About AYURTECH</h2>
            <div class="about-vision">
                <div class="vision-content">
                    <div class="vision-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <p class="vision-text">AYURTECH bridges the gap between AI innovation and Ayurvedic wisdom to revolutionize skincare. We provide accurate diagnoses, personalized remedies, and expert consultations, making skin health accessible and sustainable. Our mission is to empower you with tailored solutions for radiant and healthy skin, setting a new standard in personalized wellness.</p>
                </div>
                <div class="vision-pattern"></div>
            </div>
        </div>

        <div class="about-container">
            <div class="about-grid">
                <div class="about-card ayurveda">
                    <img src="https://i.pinimg.com/236x/82/b9/17/82b9177e8ca4dbe072896e8489c9007c.jpg" alt="Ayurvedic Ingredients" 
                        loading="lazy">
                    <h3>Ayurvedic Wisdom</h3>
                    <p>Drawing from 5000 years of natural healing traditions, our solutions are rooted in time-tested Ayurvedic principles.</p>
                </div>
                <div class="about-card technology">
                    <img src="https://i.pinimg.com/236x/a9/c6/0e/a9c60ed94485a269670cc423873c87c9.jpg" alt="AI Technology" 
                        loading="lazy">
                    <h3>Modern Technology</h3>
                    <p>Powered by advanced AI algorithms that ensure accurate diagnosis and personalized treatment recommendations.</p>
                </div>
                <div class="about-card natural">
                    <img src="https://i.pinimg.com/236x/1b/df/2a/1bdf2aa3b5afb1f033b99cee16baf685.jpg" alt="Natural Remedies" 
                        loading="lazy">
                    <h3>Natural Solutions</h3>
                    <p>Sustainable, chemical-free remedies that work in harmony with your body's natural healing processes.</p>
                </div>
                <div class="about-card holistic">
                    <img src="https://i.pinimg.com/474x/46/af/05/46af052cdf6457e2a7c5af8496695a7b.jpg" alt="Holistic Care" 
                        loading="lazy">
                    <h3>Holistic Care</h3>
                    <p>Comprehensive skin health solutions that address both symptoms and root causes.</p>
                </div>
            </div>
            
            <div class="about-features">
                <div class="feature">
                    <i class="fas fa-leaf"></i>
                    <h4>100% Natural</h4>
                    <p>Pure Ayurvedic ingredients</p>
                </div>
                <div class="feature">
                    <i class="fas fa-brain"></i>
                    <h4>AI-Powered</h4>
                    <p>Advanced diagnostic technology</p>
                </div>
                <div class="feature">
                    <i class="fas fa-clock"></i>
                    <h4>Quick Results</h4>
                    <p>Instant analysis & recommendations</p>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <h4>Safe & Secure</h4>
                    <p>Privacy-first approach</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Add this section just before the footer -->
    <section id="aesthetics-carousel">
        <div class="carousel-container">
            <div class="carousel-track">
                <!-- First set of images -->
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/8d/7d/d5/8d7dd5a3f86d2f46b3c2cfa517b7f077.jpg" alt="Skincare 1">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/c8/e1/6b/c8e16b79f0e20f54d5654b8d6b0d25d7.jpg" alt="Skincare 2">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/8b/5a/6a/8b5a6a4c5671eb0eb4618403de544766.jpg" alt="Skincare 3">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/08/6c/e7/086ce7127591e86138b7c455d788aa6c.jpg" alt="Skincare 4">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/474x/0e/52/31/0e52312178cfd4e42230d8c1b1043731.jpg" alt="Skincare 5">
                </div>
                <!-- Duplicate set for seamless scrolling -->
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/f3/a1/ac/f3a1ac5543b12275ede6f6811c70c583.jpg" alt="Skincare 1">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/eb/3c/ce/eb3cce7b698487408e7474dbb15c1e5d.jpg" alt="Skincare 2">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/236x/11/a8/bc/11a8bc90bed34b7857c0c92495aca4ea.jpg" alt="Skincare 3">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/474x/dc/77/26/dc7726f0a2473dec25ca07fcf260c6cc.jpg" alt="Skincare 4">
                </div>
                <div class="carousel-item">
                    <img src="https://i.pinimg.com/474x/11/02/e1/1102e1cf82c3fb39311cd5f38801910e.jpg" alt="Skincare 5">
                </div>
            </div>
        </div>
    </section>

    <!-- Add this modal for the 3D model -->
    <div id="modelModal" class="model-modal hidden">
        <div class="model-modal-content">
            <button class="close-modal" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
            <iframe 
                src="https://www.zygotebody.com/#nav=-6.48,158.56,299.5,0,0,0,0&sel=p:;h:;s:;c:0;o:0&layers=0,1,10000" 
                frameborder="0"
                allowfullscreen
            ></iframe>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>SkinCare AI</h3>
                <p>Revolutionizing skin health diagnosis with artificial intelligence</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 SkinCare AI. All rights reserved.</p>
        </div>
    </footer>
    <!-- Add the script tag here -->
    <script src="script.js"></script>
    <!-- Add this just before the closing body tag -->
    <div class="chatbot-widget">
        <div class="chatbot-icon" id="chatbotIcon">
            <i class="fas fa-comments"></i>
        </div>
        <div class="chatbot-container" id="chatbotContainer">
            <div class="chatbot-header">
                <h3>AYURTECH Assistant</h3>
                <button class="close-chat" id="closeChatbot" title="Close Chat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="chatBox" class="chat-box">
                <!-- Chat messages will appear here -->
                <p class="bot-message">Bot: Hello! How can I help you today?</p>
            </div>
            <div class="input-container">
                <input type="text" id="userInput" placeholder="Ask me anything..." />
                <button onclick="sendMessage()" title="Send Message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Add this CSS to your existing styles section -->
    <style>
        /* UV Index Button Styles */
        .uv-index-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
        }

        .uv-index-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .uv-index-btn i {
            color: #ffd700;
            font-size: 1.2em;
        }

        .uv-index-btn span {
            font-weight: 500;
        }

       

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        #uv-checker {
            padding: 4rem 2rem;
            background: linear-gradient(to bottom, #ffffff, #fff5f8);
        }

        #uv-checker.hidden {
            display: none;
        }

        .uv-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .uv-content {
            text-align: center;
        }

        .uv-form {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            justify-content: center;
        }

        .location-input {
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            width: 300px;
            font-size: 1rem;
        }

        .check-uv-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #ff69b4, #ff8da1);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .check-uv-btn:hover {
            transform: translateY(-2px);
        }

        .weather-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
        }

        .weather-card {
            padding: 1.5rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .weather-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #ff69b4;
        }

        .model-3d-btn {
            margin-top: 2rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #ff69b4, #ff8da1);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .model-3d-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .model-3d-btn i {
            font-size: 1.2em;
        }

        .model-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .model-modal.hidden {
            display: none;
        }

        .model-modal-content {
            position: relative;
            width: 90%;
            height: 90%;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .model-modal-content iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: white;
            border: none;
            border-radius: 50%;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 1;
            transition: background-color 0.3s ease;
        }

        .close-modal:hover {
            background-color: #f0f0f0;
        }

        .model-3d-nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
        }

        .model-3d-nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .model-3d-nav-btn i {
            color: #ff69b4;
            font-size: 1.2em;
        }

        #3d-model {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 1000;
        }

        #3d-model.hidden {
            display: none;
        }

        .model-viewer-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-family: Arial, sans-serif;
            z-index: 10;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
        }

        #3d-canvas {
            width: 100%;
            height: 100%;
        }

        .sign-in-btn {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sign-in-btn img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .sign-in-btn span {
            margin-left: 8px;
            max-width: 150px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 5px;
            color: white;
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
        }

        .notification.success {
            background-color: #4CAF50;
        }

        .notification.error {
            background-color: #f44336;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .google-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s, box-shadow 0.3s;
            width: 100%;
            max-width: 250px;
            margin: 0 auto;
        }

        .google-btn:hover {
            background-color: #f8f8f8;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .google-btn i {
            color: #4285f4;
        }

        body {
            transition: opacity 0.3s ease;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            margin-top: 2rem;
            justify-content: center;
        }

        .dermatologist-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2);
        }

        .dermatologist-btn i {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .dermatologist-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
            background: linear-gradient(135deg, #45a049, #388e3c);
        }

        .dermatologist-btn:hover i {
            transform: scale(1.1);
        }

        /* Update existing model-3d-btn to match the new style */
        .model-3d-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: linear-gradient(135deg, #ff69b4, #ff8da1);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.2);
        }

        .model-3d-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.3);
            background: linear-gradient(135deg, #ff5ba7, #ff7c93);
        }

        .model-3d-btn i {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .model-3d-btn:hover i {
            transform: scale(1.1);
        }

        @media (max-width: 768px) {
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .dermatologist-btn,
            .model-3d-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>

    <!-- Add this script before the closing body tag -->
    <script>
        // Add new event listener for UV Index button
        document.querySelector('.uv-index-btn').addEventListener('click', function(e) {
            // Don't prevent default - let the link navigate to uvindex.html
            // But you can add a transition effect if desired
            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 300);
        });

        const API_KEY = '048313ac996327915f2e6e423a304b09';

        async function checkUVIndex() {
            const location = document.getElementById('locationInput').value;
            const resultDiv = document.getElementById('uvResult');
            
            if (!location.trim()) {
                showNotification('Please enter a location', 'error');
                return;
            }
            
            try {
                resultDiv.innerHTML = '<p>Loading weather data...</p>';
                resultDiv.classList.remove('hidden');

                // Get coordinates for the location
                const geoResponse = await fetch(
                    `https://api.openweathermap.org/geo/1.0/direct?q=${location}&limit=1&appid=${API_KEY}`
                );
                const geoData = await geoResponse.json();

                if (geoData.length === 0) {
                    throw new Error('Location not found');
                }

                const { lat, lon } = geoData[0];

                // Get weather data including UV index
                const weatherResponse = await fetch(
                    `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=minutely,hourly&appid=${API_KEY}&units=metric`
                );
                const weatherData = await weatherResponse.json();

                const uvIndex = weatherData.current.uvi;
                const uvAdvice = getUVAdvice(uvIndex);
                const temp = Math.round(weatherData.current.temp);
                const feelsLike = Math.round(weatherData.current.feels_like);
                const humidity = weatherData.current.humidity;
                const windSpeed = weatherData.current.wind_speed;

                resultDiv.innerHTML = `
                    <div class="weather-info">
                        <div class="weather-card">
                            <div class="weather-icon">
                                <i class="fas fa-thermometer-half"></i>
                            </div>
                            <h3>Temperature</h3>
                            <p class="temp">${temp}¬∞C</p>
                            <p>Feels like: ${feelsLike}¬∞C</p>
                        </div>
                        
                        <div class="weather-card">
                            <div class="weather-icon">
                                <i class="fas fa-sun"></i>
                            </div>
                            <h3>UV Index</h3>
                            <p style="color: ${uvAdvice.color}">${uvIndex} - ${uvAdvice.risk}</p>
                            <p>${uvAdvice.advice}</p>
                        </div>

                        <div class="weather-card">
                            <div class="weather-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h3>Conditions</h3>
                            <p>Humidity: ${humidity}%</p>
                            <p>Wind: ${windSpeed} m/s</p>
                        </div>
                    </div>
                `;

                showNotification(`Weather data loaded for ${geoData[0].name}`);
            } catch (error) {
                console.error('Error:', error);
                resultDiv.innerHTML = `<p style="color: red;">Error: ${error.message || 'Failed to fetch weather data'}</p>`;
                showNotification('Error fetching weather data', 'error');
            }
        }

        // Add event listener for Enter key on location input
        document.getElementById('locationInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                checkUVIndex();
            }
        });

        function getUVAdvice(uvIndex) {
            if (uvIndex >= 11) {
                return {
                    risk: 'Extreme',
                    color: '#6c1577',
                    advice: 'Take all precautions: Avoid sun exposure during midday hours. Shirt, sunscreen, and hat are essential.'
                };
            } else if (uvIndex >= 8) {
                return {
                    risk: 'Very High',
                    color: '#d8001d',
                    advice: 'Extra precautions needed. Minimize sun exposure during midday hours. Apply SPF 50+ sunscreen.'
                };
            } else if (uvIndex >= 6) {
                return {
                    risk: 'High',
                    color: '#f95901',
                    advice: 'Protection required. Reduce time in the sun between 10 a.m. and 4 p.m. Apply SPF 30+ sunscreen.'
                };
            } else if (uvIndex >= 3) {
                return {
                    risk: 'Moderate',
                    color: '#f7e401',
                    advice: 'Stay in shade near midday. Wear sunscreen and protective clothing.'
                };
            } else {
                return {
                    risk: 'Low',
                    color: '#299501',
                    advice: 'No protection required. Safe to be outside.'
                };
            }
        }

        function show3DModel() {
            document.getElementById('modelModal').classList.remove('hidden');
            // Prevent scrolling on the background
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modelModal').classList.add('hidden');
            // Restore scrolling
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside the iframe
        document.getElementById('modelModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>

    <!-- Add these scripts just before the closing body tag -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/GLTFLoader.js"></script>
    <script>
        // Show 3D model section when nav link is clicked
        
       

        let scene, camera, renderer;

        function initThreeJS() {
            if (scene) return; // Prevent multiple initializations

            // Set up the scene
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById('3d-canvas'),
                antialias: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Add lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(5, 10, 7.5);
            scene.add(directionalLight);

            // Load the 3D model
            const loader = new THREE.GLTFLoader();
            loader.load(
                'path/to/your/human_body.glb', // Replace with your model path
                function (gltf) {
                    const model = gltf.scene;
                    model.scale.set(0.5, 0.5, 0.5);
                    scene.add(model);
                    animate();
                },
                function (xhr) {
                    console.log((xhr.loaded / xhr.total) * 100 + '% loaded');
                },
                function (error) {
                    console.error('Error loading model:', error);
                }
            );

            camera.position.z = 5;
        }

        function animate() {
            if (!scene) return;
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            if (!camera || !renderer) return;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Add escape key to close 3D viewer
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('3d-model').classList.add('hidden');
            }
        });
    </script>

    <!-- Add these scripts before your other scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

    <!-- Add this script before the closing body tag -->
    <script>
        const auth = firebase.auth();

        // Add event listeners when the document is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Add listeners for opening modals
            const signInBtn = document.querySelector('.sign-in-btn');
            const signUpBtn = document.querySelector('.sign-up-btn');
            const showSignUpLink = document.getElementById('showSignUp');
            const showSignInLink = document.getElementById('showSignIn');
            const closeButtons = document.querySelectorAll('.close');

            // Sign In/Up button clicks
            signInBtn.addEventListener('click', () => openModal('signInModal'));
            signUpBtn.addEventListener('click', () => openModal('signUpModal'));

            // Switch between modals
            showSignUpLink.addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('signInModal');
                openModal('signUpModal');
            });

            showSignInLink.addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('signUpModal');
                openModal('signInModal');
            });

            // Close button clicks
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const modal = button.closest('.modal');
                    if (modal) closeModal(modal.id);
                });
            });

            // Google sign-in button clicks
            const googleButtons = document.querySelectorAll('.google-btn');
            googleButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log('Google button clicked');
                    signInWithGoogle();
                });
            });
        });

        function signInWithGoogle() {
            console.log('Starting Google Sign In...');
            const provider = new firebase.auth.GoogleAuthProvider();
            provider.setCustomParameters({
                prompt: 'select_account'
            });
            
            auth.signInWithPopup(provider)
                .then((result) => {
                    console.log('Sign in successful:', result);
                    const user = result.user;
                    const userData = {
                        name: user.displayName,
                        email: user.email,
                        photoURL: user.photoURL,
                        lastLogin: new Date(),
                    };
                    
                    closeModal('signInModal');
                    closeModal('signUpModal');
                    updateUIAfterAuth(user);
                    showNotification('Successfully signed in!');
                })
                .catch((error) => {
                    console.error('Detailed error:', error);
                    let errorMessage = "Error signing in with Google. ";
                    switch (error.code) {
                        case 'auth/popup-blocked':
                            errorMessage += "Please allow popups for this website.";
                            break;
                        case 'auth/popup-closed-by-user':
                            errorMessage += "Sign-in popup was closed. Please try again.";
                            break;
                        case 'auth/account-exists-with-different-credential':
                            errorMessage += "An account already exists with this email.";
                            break;
                        default:
                            errorMessage += error.message;
                    }
                    showNotification(errorMessage, 'error');
                });
        }

        function updateUIAfterAuth(user) {
            const signInBtn = document.querySelector('.sign-in-btn');
            const signUpBtn = document.querySelector('.sign-up-btn');
            
            if (user) {
                signInBtn.innerHTML = `
                    <img src="${user.photoURL || 'https://via.placeholder.com/30'}" 
                         alt="Profile" 
                         style="width: 30px; height: 30px; border-radius: 50%; margin-right: 8px;">
                    <span>${user.displayName || user.email}</span>
                `;
                signUpBtn.textContent = 'Sign Out';
                signUpBtn.onclick = () => {
                    auth.signOut().then(() => {
                        showNotification('Successfully signed out!');
                        updateUIAfterAuth(null);
                    });
                };
            } else {
                signInBtn.textContent = 'Sign In';
                signUpBtn.textContent = 'Sign Up';
                signInBtn.onclick = () => openModal('signInModal');
                signUpBtn.onclick = () => openModal('signUpModal');
            }
        }

        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target.id);
            }
        });

        // Listen for auth state changes
        auth.onAuthStateChanged((user) => {
            updateUIAfterAuth(user);
        });

        // Add a notification function
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);

            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html> 
